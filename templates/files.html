{% extends 'base.html' %}
{% block title %}Files Â· Dual Access{% endblock %}
{% block content %}
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h4 class="mb-0"><i class="bi bi-folder2"></i> Files</h4>
    <a class="btn btn-sm btn-primary" href="/upload"><i class="bi bi-upload"></i> Upload</a>
  </div>
  <div class="table-responsive">
    <table class="table table-striped align-middle">
      <thead>
        <tr><th>Name</th><th>Owner</th><th>Policy</th><th>Actions</th></tr>
      </thead>
      <tbody>
      {% for f in files %}
        <tr>
          <td>{{ f.filename }}</td>
          <td class="text-muted"><small>{{ f.owner_id }}</small></td>
          <td><code>{{ f.access_policy }}</code></td>
          <td>
            <a class="btn btn-sm btn-outline-secondary" href="/files/{{ f.file_id }}/challenge">Challenge</a>
            <a class="btn btn-sm btn-success" href="/files/{{ f.file_id }}/download">Download</a>
            <a class="btn btn-sm btn-outline-primary" href="/files/{{ f.file_id }}/key">Key</a>
          </td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}


